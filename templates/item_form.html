{% extends 'base.html' %}
{% block title %}{{ action }} Storage Item{% endblock %}
{% block content %}
<h2>{{ action }} Storage Item</h2>
<form method="post">
    <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input type="text" class="form-control" id="name" name="name" required
            value="{{ item['name'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="brand" class="form-label">Brand</label>
        <input type="text" class="form-control" id="brand" name="brand" value="{{ item['brand'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="size" class="form-label">Size</label>
        <input type="text" class="form-control" id="size" name="size" value="{{ item['size'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="nutritional_info" class="form-label">Nutritional Information</label>
        <input type="text" class="form-control" id="nutritional_info" name="nutritional_info"
            value="{{ item['nutritional_info'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="date_purchased" class="form-label">Date Purchased</label>
        <input type="date" class="form-control" id="date_purchased" name="date_purchased"
            value="{{ item['date_purchased'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="expiration_date" class="form-label">Expiration Date</label>
        <input type="date" class="form-control" id="expiration_date" name="expiration_date"
            value="{{ item['expiration_date'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="ingredients" class="form-label">Ingredients</label>
        <input type="text" class="form-control" id="ingredients" name="ingredients"
            value="{{ item['ingredients'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="other_info" class="form-label">Other Info</label>
        <input type="text" class="form-control" id="other_info" name="other_info"
            value="{{ item['other_info'] if item else '' }}">
    </div>
    <div class="mb-3">
        <label for="location_id" class="form-label">Location</label>
        <select class="form-select" id="location_id" name="location_id" required>
            <option value="">Select Location</option>
            {% for loc in locations %}
            <option value="{{ loc['_id'] }}" {% if item and item['location_id']==loc['_id']|string %}selected{% endif
                %}>{{ loc['name'] }}</option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">{{ action }}</button>
    <a href="{{ url_for('list_items') }}" class="btn btn-secondary ms-2">Cancel</a>
</form>
{% endblock %}