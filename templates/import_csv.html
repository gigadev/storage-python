{% extends 'base.html' %}
{% block title %}Import CSV{% endblock %}
{% block content %}
<div class="mb-3">
    <h2>Import Items from CSV</h2>
    <p class="text-muted">Upload a CSV file to bulk import storage items and locations.</p>
</div>

<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">CSV Format Requirements</h5>
    </div>
    <div class="card-body">
        <p><strong>Required Columns:</strong></p>
        <ul>
            <li><code>ItemName</code> - The name of the item</li>
            <li><code>ItemLocation</code> - The storage location (will be created if it doesn't exist)</li>
        </ul>

        <p class="mt-3"><strong>Optional Columns:</strong></p>
        <ul>
            <li><code>Manufacturer</code> - Brand/manufacturer name</li>
            <li><code>Quantity</code> - Quantity amount</li>
            <li><code>Servings Per</code> - Number of servings per container</li>
            <li><code>Servings Size</code> - Size of each serving</li>
            <li><code>Units</code> - Unit of measurement</li>
            <li><code>Servings</code> - Total servings (stored as nutritional info)</li>
            <li><code>ExpirationDate</code> - Expiration date (any common date format)</li>
            <li><code>Box</code> - Box or container identifier</li>
            <li><code>Manufactured Date</code> - Manufacturing date</li>
            <li><code>UPC</code> - UPC/barcode</li>
            <li><code>Damaged</code> - Notes about damage or condition</li>
        </ul>

        <div class="alert alert-info mt-3">
            <strong>Note:</strong> Locations that don't exist will be automatically created. All items will be
            associated with your user account.
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h5 class="mb-0">Upload CSV File</h5>
    </div>
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="csv_file" class="form-label">Select CSV File</label>
                <input type="file" class="form-control" id="csv_file" name="csv_file" accept=".csv" required>
                <div class="form-text">Only .csv files are accepted</div>
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-upload"></i> Import CSV
                </button>
                <a href="{{ url_for('list_items') }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>

<div class="card mt-4">
    <div class="card-header">
        <h5 class="mb-0">Sample CSV Format</h5>
    </div>
    <div class="card-body">
        <pre class="bg-light p-3 rounded"><code>ItemName,ItemLocation,Manufacturer,Quantity,Servings Per,Servings Size,Units,Servings,ExpirationDate,Box,Manufactured Date,UPC,Damaged
Pears,Upstairs,Del Monte,24,4,4 oz,oz,96,2027-10-01,Box 3,2024-01-15,051000012345,
Cream of Mushroom Soup,Basement,Campbell's,12,2.5,10.5 oz,oz,30,2026-05-01,Box 1,2023-08-20,051000054321,</code></pre>
    </div>
</div>
{% endblock %}